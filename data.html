<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Dashboard - Smart PJU</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/lampu.png" rel="icon">
  <link href="assets/img/lampu.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">

    <div class="d-flex align-items-center justify-content-between">
      <a href="index.html" class="logo d-flex align-items-center">
        <img src="assets/img/lampu.png" alt="">
        <span class="d-none d-lg-block">Smart PJU</span>
      </a>
      <i class="bi bi-list toggle-sidebar-btn"></i>
    </div><!-- End Logo -->
  </header><!-- End Header -->

  <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar">

    <ul class="sidebar-nav" id="sidebar-nav">

      <li class="nav-item">
        <a class="nav-link " href="index.html">
          <i class="bi bi-grid"></i>
          <span>Dashboard</span>
        </a>
      </li><!-- End Dashboard Nav -->
        
      <li class="nav-item">
        <a class="nav-link " href="data.html">
          <i class="bi bi-grid"></i>
          <span>Data</span>
        </a>
      </li><!-- End Dashboard Nav -->

      <li class="nav-item">
        <a class="nav-link " href="index.html">
          <i class="bi bi-grid"></i>
          <span>Home</span>
        </a>
      </li><!-- End Dashboard Nav -->

    </ul>
    

  </aside><!-- End Sidebar-->

  <main id="main" class="main">

    <div class="pagetitle">
      <h1>Data</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="data.html">Home</a></li>
          <li class="breadcrumb-item active">Data</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

        <div class="section">
        <div class="container">
            <div class="box">
                   <div class="search">
                <div class="container">
                    <form action="data.html">
                        <input type="text" name="search" placeholder="Search">
                        <input type="submit" name="cari" value="Search">
                    </form>
                </div>
            </div>
               <div class="container">
                    <table class="table">
                        <thead>
                        <tr>
                            <th width="35px">No</th>
                            <th width="150px">Date</th>
                            <th width="150px">Time</th>
                            <th width="150px">Current</th>
                            <th width="150px">Voltage</th>
                            <th width="150px">Temperature</th>
                            <th width="150px">Light Sensor</th>
                            <th width="150px">Status</th>
                            <th width="450px">Action</th>
                        </tr>
                        </thead>
                            <tbody id="tbody1"> </tbody>
                   
                    </table>
                
               </div>
            </div>
        </div>
    </div>
  </main><!-- End #main -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/chart.js/chart.min.js"></script>
  <script src="assets/vendor/echarts/echarts.min.js"></script>
  <script src="assets/vendor/quill/quill.min.js"></script>
  <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
  <script src="assets/vendor/tinymce/tinymce.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <!-- <script src="assets/js/jquery/jquery-migrate.min.js"></script> -->
  <script src="assets/js/jquery/jquery.min.js"></script>
  
  <!-- Firebase App -->
  <!-- <!-script src="assets/js/app.js"></!-script> -->

  <!-- <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-database.js"></script> -->

  <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-database.js"></script>


  <!-- // import { initializeApp } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-app.js";
  // import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-analytics.js"; -->


  <script>

    const firebaseConfig = {
      apiKey: "AIzaSyAMNA_43DheedkFH2Q4ZTvXiGHT42d6cEg",
      authDomain: "tsa-pju-b204b.firebaseapp.com",
      databaseURL: "https://tsa-pju-b204b-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "tsa-pju-b204b",
      storageBucket: "tsa-pju-b204b.appspot.com",
      messagingSenderId: "1069280038428",
      appId: "1:1069280038428:web:f8549d6b550aa9a2f099d9",
      measurementId: "G-KHKBGMJ2TM"
    };

    // // Initialize Firebase
    // const app = initializeApp(firebaseConfig);
    // const analytics = getAnalytics(app);

    // import {
    //     getDatabase,
    //     ref,
    //     set,
    //     child,
    //     get
    // }
    // from "https://www.gstatic.com/firebasejs/9.14.0/firebase-database.js";
    // const db = getDatabase();
    // const dbref = ref(db);

firebase.initializeApp(firebaseConfig);
      
      function SelectAllData(){
          firebase.database().ref('data').once('value',
          function(AllRecords) {
              AllRecords.forEach(
                  function(CurrentRecord){
                        var tanggal = CurrentRecord.val().date;
                        var waktu = CurrentRecord.val().jam;
                        var currentSensor = CurrentRecord.val().arus;
                        var voltageSensor = CurrentRecord.val().tegangan;
                        var temperature = CurrentRecord.val().suhu
                        var lightSensor = CurrentRecord.val().ldr;
                        var Status = CurrentRecord.val().status;
                        
                        AddItemsToTable(tanggal,waktu,currentSensor,voltageSensor,temperature,lightSensor,Status);
                        
                  }
             );
          });
      }
      
      window.onload = SelectAllData;
      
      var no = 0;
      function AddItemsToTable(tanggal,waktu,currentSensor,voltageSensor,temperature,lightSensor,Status) {
          var tbody = document.getElementById('tbody1');
          var trow = document.createElement('tr');
          var td1 = document.createElement('td');
          var td2 = document.createElement('td');
          var td3 = document.createElement('td');
          var td4 = document.createElement('td');
          var td5 = document.createElement('td');
          var td6 = document.createElement('td');
          var td7 = document.createElement('td');
          var td8 = document.createElement('td');
          var td9 = document.createElement('td');
          td1.innerHTML=++no;
          td2.innerHTML=tanggal;
          td3.innerHTML=waktu;
          td4.innerHTML=currentSensor;
          td5.innerHTML=voltageSensor;
          td6.innerHTML=temperature;
          td7.innerHTML=lightSensor;
          td8.innerHTML=Status;
          td9.innerHTML=;
          trow.appendChild(td1);
          trow.appendChild(td2);
          trow.appendChild(td3);
          trow.appendChild(td4);
          trow.appendChild(td5);
          trow.appendChild(td6);
          trow.appendChild(td7);
          trow.appendChild(td8);
          trow.appendChild(td9);
          tbody.appendChild(trow);
         
      }


    </script>

</body>

</html>